<?xml version="1.0"?>
<launch>
  <include
    file="$(find gazebo_ros)/launch/empty_world.launch" />
    <param
    name="robot_description"
    command="$(find xacro)/xacro --inorder $(find robot_css)/urdf/robot_css.xacro"/>
  <param name="use_gui" value="true"/>
  <node
    name="tf_footprint_base"
    pkg="tf"
    type="static_transform_publisher"
    args="0 0 0 0 0 0 base_link base_footprint 40" />
   <node 
    name="spawn_urdf" 
    pkg="gazebo_ros" 
    type="spawn_model" 
    args="-urdf -param robot_description -urdf -model robot_css "
    output="screen" />
    
  <node
    name="fake_joint_calibration"
    pkg="rostopic"
    type="rostopic"
    args="pub /calibrated std_msgs/Bool true" />
    
   <node 
   name = "joint_state_publisher" 
   pkg="joint_state_publisher" 
   type="joint_state_publisher">
   <param 
   name ="use_gui" 
   value="true"/>
   </node>
   <arg name="use_gui" 
   default="true" 
   doc="Should the joint_state_publisher use a GUI for controlling joint states" />
   <node 
   pkg="joint_state_publisher" 
   type="joint_state_publisher" 
   name="joint_state_publisher" 
   output="screen" 
   unless="$(arg use_gui)" />      
    <node 
    pkg="joint_state_publisher_gui" 
    type="joint_state_publisher_gui" 
    name="joint_state_publisher_gui" 
    output="screen" 
    if="$(arg use_gui)" />
   <node name = "robot_state_publisher" 
   pkg="robot_state_publisher" 
   type="robot_state_publisher"/>    
    <node 
    name = "rviz" 
    pkg="rviz" 
    type="rviz" 
    args="-d $(find robot_css)/rviz/robot.rviz" />
</launch>
